(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{89343:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pantry",function(){return n(18333)}])},18333:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Pantry}});var a=n(85893),r=n(67294),i=n(84053);n(73935),"undefined"!=typeof window?r.useLayoutEffect:r.useEffect,n(48192);var l=n(69417),s=n(69205),d=n(2614),o=n(41733),c=n(80940),h=n(7906),u=n(295),g=n(53252),p=n(72882),x=n(53184),_=n(53816),j=n(90629);function Pantry(){let[e,t]=r.useState([]),[n,v]=r.useState(""),[y,f]=r.useState(),[Z,w]=r.useState(),[m,b]=r.useState(),[C,S]=r.useState(),[I,E]=r.useState(),[k,N]=r.useState(),[q,P]=r.useState(),[O,T]=r.useState(),[U,A]=r.useState(),[D,F]=r.useState(),L=(0,i.useSupabaseClient)(),[Q,X]=r.useState(!1),handleOpen=()=>X(!0);L.auth.getUser().then(e=>{try{F(e.data.user.id)}catch(e){}});let createIngredient=async e=>{e.preventDefault();try{let{data:e}=await L.from("Ingredients").insert([{ing_name:n,ing_qnt:y,ing_threshold_qnt:Z,ing_serv_qnt:m,ing_serv_cal:C,ing_serv_prot:I,ing_serv_fat:k,ing_serv_carb:q,ing_purchase_serv_cnt:O,ing_purchase_cost:U,user_id:D}]);return e}catch(e){console.error(e)}};(0,r.useEffect)(()=>{let readIngredient=async()=>{try{let e=await L.from("Ingredients").select("ing_id, ing_name, ing_qnt"),n=e.data;t(n),console.log(await L.auth.getUser())}catch(e){console.error(e)}};readIngredient()},[]);let deleteIngredient=async e=>{try{let n=await L.from("Ingredients").delete().eq("ing_id",e),a=n.data;t(a),location.reload()}catch(e){console.error(e)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Z,{variant:"contained",color:"primary",onClick:handleOpen,children:"Add New Ingredient"}),(0,a.jsx)("h3",{children:"Your Ingredients:"}),(0,a.jsx)(s.Z,{open:Q,onClose:()=>X(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsx)(d.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:260,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:(0,a.jsxs)("form",{onSubmit:createIngredient,className:"add",children:[(0,a.jsx)("h3",{children:"Input Food"}),(0,a.jsx)("input",{type:"text",placeholder:"Name",value:n,onChange:e=>v(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Quantity",value:y,onChange:e=>f(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Threshold",value:Z,onChange:e=>w(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Serving Size",value:m,onChange:e=>b(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Calories",value:C,onChange:e=>S(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Protein",value:I,onChange:e=>E(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Fat",value:k,onChange:e=>N(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Carbohydrate",value:q,onChange:e=>P(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Purchased Servings",value:O,onChange:e=>T(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Cost",value:U,onChange:e=>A(e.target.value)}),(0,a.jsx)(l.Z,{variant:"contained",color:"primary",type:"submit",children:"Add Ingredient"})]})})}),(0,a.jsx)("div",{sx:{overflow:"auto"},children:(0,a.jsx)("div",{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:(0,a.jsx)(p.Z,{component:j.Z,children:(0,a.jsxs)(h.Z,{"aria-label":"simple table",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)(_.Z,{children:[(0,a.jsx)(g.Z,{style:{width:"20%"},children:"Ingredient"}),(0,a.jsx)(g.Z,{style:{width:"20%"},align:"right",children:"Quantity"}),(0,a.jsx)(g.Z,{style:{width:"20%"},children:"Units"}),(0,a.jsx)(g.Z,{style:{width:"20%"},align:"right",children:"Edit"}),(0,a.jsx)(g.Z,{style:{width:"20%"},align:"right",children:"Delete"})]})}),(0,a.jsx)(u.Z,{children:e.map(e=>(0,a.jsxs)(_.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(g.Z,{component:"th",scope:"row",children:e.ing_name}),(0,a.jsx)(g.Z,{align:"right",children:e.ing_qnt}),(0,a.jsx)(g.Z,{align:"right",children:e.ing_serv_cal}),(0,a.jsx)(g.Z,{align:"right",children:(0,a.jsx)(l.Z,{color:"info",onClick:handleOpen,children:(0,a.jsx)(c.Z,{})})}),(0,a.jsx)(g.Z,{align:"right",children:(0,a.jsx)(l.Z,{color:"error",onClick:()=>deleteIngredient(e.ing_id),children:(0,a.jsx)(o.Z,{})})})]},e.ing_id))})]})})})})]})}},48192:function(){}},function(e){e.O(0,[754,774,888,179],function(){return e(e.s=89343)}),_N_E=e.O()}]);