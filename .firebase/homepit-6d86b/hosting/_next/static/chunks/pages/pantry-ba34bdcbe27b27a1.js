(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{9343:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pantry",function(){return n(8428)}])},8428:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Pantry}});var a=n(5893),r=n(7294),i=n(4053);n(2345),n(8192);var l=n(9417),s=n(9205),d=n(3738),o=n(1733),c=n(940),h=n(7906),u=n(295),g=n(3252),p=n(2882),x=n(3184),_=n(3816),j=n(629);function Pantry(){let[e,t]=r.useState([]),[n,v]=r.useState(""),[y,Z]=r.useState(),[f,m]=r.useState(),[b,w]=r.useState(),[C,S]=r.useState(),[I,k]=r.useState(),[N,E]=r.useState(),[q,P]=r.useState(),[O,T]=r.useState(),[U,A]=r.useState(),[D,F]=r.useState(),Q=(0,i.useSupabaseClient)(),[X,z]=r.useState(!1),handleOpen=()=>z(!0);Q.auth.getUser().then(e=>{try{F(e.data.user.id)}catch(e){}});let createIngredient=async e=>{e.preventDefault();try{let{data:e}=await Q.from("Ingredients").insert([{ing_name:n,ing_qnt:y,ing_threshold_qnt:f,ing_serv_qnt:b,ing_serv_cal:C,ing_serv_prot:I,ing_serv_fat:N,ing_serv_carb:q,ing_purchase_serv_cnt:O,ing_purchase_cost:U,user_id:D}]);return e}catch(e){console.error(e)}};(0,r.useEffect)(()=>{let readIngredient=async()=>{try{let e=await Q.from("Ingredients").select("ing_id, ing_name, ing_qnt"),n=e.data;t(n),console.log(await Q.auth.getUser())}catch(e){console.error(e)}};readIngredient()},[]);let deleteIngredient=async e=>{try{let n=await Q.from("Ingredients").delete().eq("ing_id",e),a=n.data;t(a),location.reload()}catch(e){console.error(e)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Z,{variant:"contained",color:"primary",onClick:handleOpen,children:"Add New Ingredient"}),(0,a.jsx)("h3",{children:"Your Ingredients:"}),(0,a.jsx)(s.Z,{open:X,onClose:()=>z(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsx)(d.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:260,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:(0,a.jsxs)("form",{onSubmit:createIngredient,className:"add",children:[(0,a.jsx)("h3",{children:"Input Food"}),(0,a.jsx)("input",{type:"text",placeholder:"Name",value:n,onChange:e=>v(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Quantity",value:y,onChange:e=>Z(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Threshold",value:f,onChange:e=>m(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Serving Size",value:b,onChange:e=>w(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Calories",value:C,onChange:e=>S(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Protein",value:I,onChange:e=>k(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Fat",value:N,onChange:e=>E(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Carbohydrate",value:q,onChange:e=>P(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Purchased Servings",value:O,onChange:e=>T(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Cost",value:U,onChange:e=>A(e.target.value)}),(0,a.jsx)(l.Z,{variant:"contained",color:"primary",type:"submit",children:"Add Ingredient"})]})})}),(0,a.jsx)("div",{sx:{overflow:"auto"},children:(0,a.jsx)("div",{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:(0,a.jsx)(p.Z,{component:j.Z,children:(0,a.jsxs)(h.Z,{"aria-label":"simple table",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)(_.Z,{children:[(0,a.jsx)(g.Z,{style:{width:"20%"},children:"Ingredient"}),(0,a.jsx)(g.Z,{style:{width:"20%"},align:"right",children:"Quantity"}),(0,a.jsx)(g.Z,{style:{width:"20%"},children:"Units"}),(0,a.jsx)(g.Z,{style:{width:"20%"},align:"right",children:"Edit"}),(0,a.jsx)(g.Z,{style:{width:"20%"},align:"right",children:"Delete"})]})}),(0,a.jsx)(u.Z,{children:e.map(e=>(0,a.jsxs)(_.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(g.Z,{component:"th",scope:"row",children:e.ing_name}),(0,a.jsx)(g.Z,{align:"right",children:e.ing_qnt}),(0,a.jsx)(g.Z,{align:"right",children:e.ing_serv_cal}),(0,a.jsx)(g.Z,{align:"right",children:(0,a.jsx)(l.Z,{color:"info",onClick:handleOpen,children:(0,a.jsx)(c.Z,{})})}),(0,a.jsx)(g.Z,{align:"right",children:(0,a.jsx)(l.Z,{color:"error",onClick:()=>deleteIngredient(e.ing_id),children:(0,a.jsx)(o.Z,{})})})]},e.ing_id))})]})})})})]})}}},function(e){e.O(0,[696,774,888,179],function(){return e(e.s=9343)}),_N_E=e.O()}]);